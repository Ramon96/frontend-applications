{"ast":null,"code":"var _jsxFileName = \"/Users/ramonmeijers/Documents/School/Leerjaar 3/techtrack/frontend-applications/frontend-application/src/App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      value: []\n    };\n  }\n\n  componentDidMount() {\n    // const el = document.querySelector('p')\n    const url = \"https://api.data.netwerkdigitaalerfgoed.nl/datasets/ivo/NMVW/services/NMVW-39/sparql\"; //Note that the query is wrapped in es6 template strings to allow for easy copy pasting\n\n    const query = \"\\n    PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\\n    PREFIX dc: <http://purl.org/dc/elements/1.1/>\\n    PREFIX dct: <http://purl.org/dc/terms/>\\n    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>\\n    PREFIX edm: <http://www.europeana.eu/schemas/edm/>\\n    PREFIX foaf: <http://xmlns.com/foaf/0.1/>\\n\\n    SELECT ?cho ?title ?typeLabel WHERE {\\n\\n      <https://hdl.handle.net/20.500.11840/termmaster1397> skos:narrower* ?type .\\n      ?type skos:prefLabel ?typeLabel .\\n\\n      ?cho edm:object ?type .\\n      ?cho dc:title ?title .\\n      FILTER langMatches(lang(?title), \\\"ned\\\")\\n    } LIMIT 10\\n\\n    \";\n    runQuery(url, query);\n\n    function runQuery(url, query) {\n      //Test if the endpoint is up and print result to page \n      // (you can improve this script by making the next part of this function wait for a succesful result)\n      fetch(url); // .then(res => el.innerText = \"Status of API: \" + res.status)\n      // Call the url with the query attached, output data\n\n      fetch(url + \"?query=\" + encodeURIComponent(query) + \"&format=json\").then(res => res.json()).then(json => {\n        console.log(json); // console.log(json.results);\n\n        console.log(json.results.bindings); // el.textContent = JSON.stringify(json.results)\n\n        const result = json.results.bindings;\n        this.setState({\n          value: result\n        });\n      });\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, this.state.value.map((item, index) => {\n      React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, item.title.value);\n    }));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/ramonmeijers/Documents/School/Leerjaar 3/techtrack/frontend-applications/frontend-application/src/App.js"],"names":["React","Component","App","state","value","componentDidMount","url","query","runQuery","fetch","encodeURIComponent","then","res","json","console","log","results","bindings","result","setState","render","map","item","index","title"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,WAAP;;AAGA,MAAMC,GAAN,SAAkBD,SAAlB,CAA4B;AAAA;AAAA;AAAA,SAsD1BE,KAtD0B,GAsDlB;AACNC,MAAAA,KAAK,EAAE;AADD,KAtDkB;AAAA;;AAE1BC,EAAAA,iBAAiB,GAAE;AAEjB;AACA,UAAMC,GAAG,GAAE,sFAAX,CAHiB,CAIjB;;AACA,UAAMC,KAAK,unBAAX;AAmBAC,IAAAA,QAAQ,CAACF,GAAD,EAAMC,KAAN,CAAR;;AAEA,aAASC,QAAT,CAAkBF,GAAlB,EAAuBC,KAAvB,EAA6B;AAC3B;AACA;AACAE,MAAAA,KAAK,CAACH,GAAD,CAAL,CAH2B,CAIzB;AACF;;AACAG,MAAAA,KAAK,CAACH,GAAG,GAAC,SAAJ,GAAeI,kBAAkB,CAACH,KAAD,CAAjC,GAA0C,cAA3C,CAAL,CACCI,IADD,CACMC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADb,EAECF,IAFD,CAEME,IAAI,IAAI;AACdC,QAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ,EADc,CAEd;;AAEAC,QAAAA,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACG,OAAL,CAAaC,QAAzB,EAJc,CAKd;;AAEA,cAAMC,MAAM,GAAGL,IAAI,CAACG,OAAL,CAAaC,QAA5B;AAEA,aAAKE,QAAL,CAAc;AACZf,UAAAA,KAAK,EAAEc;AADK,SAAd;AAKC,OAhBD;AAiBD;AACF;;AAMDE,EAAAA,MAAM,GAAE;AACN,WACE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKjB,KAAL,CAAWC,KAAX,CAAiBiB,GAAjB,CAAqB,CAACC,IAAD,EAAOC,KAAP,KAAe;AACnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAID,IAAI,CAACE,KAAL,CAAWpB,KAAf;AACD,KAFA,CADH,CADF;AAOD;;AAlEyB;;AAqE5B,eAAeF,GAAf","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\n\n\nclass App extends Component {\n\n  componentDidMount(){\n\n    // const el = document.querySelector('p')\n    const url =\"https://api.data.netwerkdigitaalerfgoed.nl/datasets/ivo/NMVW/services/NMVW-39/sparql\"\n    //Note that the query is wrapped in es6 template strings to allow for easy copy pasting\n    const query = `\n    PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\n    PREFIX dc: <http://purl.org/dc/elements/1.1/>\n    PREFIX dct: <http://purl.org/dc/terms/>\n    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>\n    PREFIX edm: <http://www.europeana.eu/schemas/edm/>\n    PREFIX foaf: <http://xmlns.com/foaf/0.1/>\n\n    SELECT ?cho ?title ?typeLabel WHERE {\n\n      <https://hdl.handle.net/20.500.11840/termmaster1397> skos:narrower* ?type .\n      ?type skos:prefLabel ?typeLabel .\n\n      ?cho edm:object ?type .\n      ?cho dc:title ?title .\n      FILTER langMatches(lang(?title), \"ned\")\n    } LIMIT 10\n\n    `\n    runQuery(url, query)\n\n    function runQuery(url, query){\n      //Test if the endpoint is up and print result to page \n      // (you can improve this script by making the next part of this function wait for a succesful result)\n      fetch(url)\n        // .then(res => el.innerText = \"Status of API: \" + res.status)\n      // Call the url with the query attached, output data\n      fetch(url+\"?query=\"+ encodeURIComponent(query) +\"&format=json\")\n      .then(res => res.json())\n      .then(json => {\n      console.log(json)\n      // console.log(json.results);\n\n      console.log(json.results.bindings)\n      // el.textContent = JSON.stringify(json.results)\n      \n      const result = json.results.bindings;\n\n      this.setState({\n        value: result\n      })\n\n\n      })\n    }\n  }\n  \n  state = {\n    value: []\n  }  \n\n  render(){\n    return (\n      <div className=\"App\">\n        {this.state.value.map((item, index)=>{\n          <p>{item.title.value}</p>\n        })}\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}